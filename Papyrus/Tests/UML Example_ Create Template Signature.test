--- Q7 testcase ---
Format-Version: 1.0
Q7-vendor: www.xored.com/q7
Contexts: _RVOxwHTiEeKCqKlV8_wmTg,_NOj3UXTiEeKCqKlV8_wmTg,_HkmqUHp2EeKeS_winlSmvQ
Element-Name: UML Example: Create Template Signature
Element-Type: testcase
Element-Version: 3.0
External-Reference: 
Id: _WuFx8Hp2EeKeS_winlSmvQ
Save-Time: 2/19/13 4:39 PM
Testcase-Type: ecl

------=_.description-216f885c-d591-38ce-8ea2-e4f8cb4d6ffa
Content-Type: text/plain
Entry-Name: .description

TEST STEPS

1. Select "Template Signature" tool on a palette;
2. Drag to GenericScheduler to create Template Signature;
3. Add new Classifier Template Parameter to a Template Signature;
4. Select SchedulingPolicy as a parameter element;
5. Verify that a parameter element was updated on a diagram. 
------=_.description-216f885c-d591-38ce-8ea2-e4f8cb4d6ffa--
------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac
Content-Type: text/ecl
Entry-Name: .content

get-view "Project Explorer" | get-tree | select "MyProject/model" | double-click
with [get-editor "model.di"] {
    with [get-diagram -index 1 | get-edit-part -name Model] {
        mouse-move 393 204 -height 633 -width 925
        get-edit-part -name ModelLibrary | mouse-move 277 1 -height 385 -width 529
    }
    with [get-palette] {
        get-palette-entry Class | mouse-move 59 4 -height 23 -width 125
        get-palette-entry Comment | mouse-move 120 21 -height 23 -width 125
        get-palette-entry Component | mouse-move 110 21 -height 23 -width 125
        get-palette-entry Constraint | mouse-move 101 22 -height 23 -width 125
        get-palette-entry DataType | mouse-move 93 22 -height 23 -width 125
    }
    get-diagram -index 1 | get-edit-part -name Model | get-edit-part -name ModelLibrary | get-edit-part 
        -className PackagePackageableElementCompartmentEditPart | mouse-move 228 75 -height 364 -width 529
    with [get-palette] {
        get-palette-entry DurationObservation | mouse-move 110 22 -height 23 -width 125
        get-palette-entry Enumeration | mouse-move 103 22 -height 23 -width 125
        get-palette-entry "Enumeration literal" | mouse-move 91 34 -height 37 -width 125
        get-palette-entry Interface | mouse-move 85 21 -height 23 -width 125
        get-palette-entry InstanceSpecification | mouse-move 79 20 -height 23 -width 125
        with [get-palette-entry Nodes] {
            mouse-move 75 298 button1 -height 301 -width 125
            mouse-press 75 298 button1 -height 301 -width 125
        }
        get-figure "0/1/1/0/0/17/0/1" | mouse-press 41 4 button1 -height 16 -width 91
        get-palette-entry Nodes | mouse-release 75 298 button1 524288 -height 301 -width 125
        get-figure "0/1/1/0/0/17/0/1" | mouse-release 41 4 button1 524288 -height 16 -width 91
        get-palette-entry Nodes | mouse-press 75 298 button1 -height 301 -width 125
        get-figure "0/1/1/0/0/23/0/1" | mouse-press 41 3 button1 -height 16 -width 91
        get-palette-entry Nodes | mouse-double-click 75 298 button1 -height 301 -width 125
        get-figure "0/1/1/0/0/23/0/1" | mouse-double-click 41 3 button1 -height 16 -width 91
        get-palette-entry Nodes | mouse-release 75 298 button1 524288 -height 301 -width 125
        get-figure "0/1/1/0/0/23/0/1" | mouse-release 41 3 button1 524288 -height 16 -width 91
        get-palette-entry Nodes | mouse-press 75 298 button1 -height 301 -width 125
        get-figure "0/1/1/0/0/25/0" | mouse-press 75 22 button1 -height 23 -width 125
        get-palette-entry ConnectableElementTemplateParameter | mouse-release 75 22 button1 524288 -height 23 -width 125
        get-figure "0/1/1/0/0/25/0" | mouse-release 75 22 button1 524288 -height 23 -width 125
        with [get-palette-entry ConnectableElementTemplateParameter] {
            mouse-hover 75 22 -height 23 -width 125
            mouse-move 75 1 -height 23 -width 125
        }
        get-palette-entry TimeObservation | mouse-move 75 0 -height 23 -width 125
        with [get-palette-entry TemplateSignature] {
            mouse-move 73 9 -height 23 -width 125
            mouse-hover 73 9 -height 23 -width 125
            mouse-move 73 9 button1 -height 23 -width 125
            mouse-press 73 9 button1 -height 23 -width 125
            mouse-release 73 9 button1 524288 -height 23 -width 125
            mouse-move 35 0 -height 23 -width 125
        }
        get-palette-entry TemplateParameter | mouse-move 9 19 -height 23 -width 125
    }
    with [get-diagram -index 1 | get-edit-part -name Model | get-edit-part -name GenericScheduler] {
        mouse-move 136 13 button1 -height 193 -width 277
        mouse-press 136 13 button1 -height 193 -width 277
        mouse-release 136 13 button1 524288 -height 193 -width 277
    }
    with [get-diagram -index 1 | get-edit-part -name Model] {
        with [get-edit-part -name GenericScheduler] {
            mouse-hover 136 13 -height 193 -width 277
            mouse-move 134 20 -height 193 -width 277
            with [get-edit-part -className PackagePackageableElementCompartmentEditPart] {
                mouse-move 132 4 -height 172 -width 277
                mouse-hover 132 4 -height 172 -width 277
                mouse-move 112 33 -height 172 -width 277
                get-edit-part -name Scheduler | get-edit-part -className ClassOperationCompartmentEditPartCN 
                    | mouse-move 26 17 -height 28 -width 100
                mouse-move 243 13 -height 172 -width 277
            }
            with [get-edit-part -className TemplateSignatureEditPart | get-edit-part 
                -className TemplateSignatureTemplateParameterCompartmentEditPart] {
                mouse-move 32 6 button1 -height 36 -width 56
                mouse-press 32 6 button1 -height 36 -width 56
                mouse-release 32 6 button1 524288 -height 36 -width 56
                mouse-hover 32 6 -height 36 -width 56
            }
            mouse-move 106 9 -height 193 -width 277
        }
        mouse-move 4 88 -height 633 -width 925
    }
}
get-view "Model Explorer" | get-tree 
    | select " Model/ GenericScheduler/ownedTemplateSignature \\(1\\)/ <Template Signature>" 
    | get-menu "New Child/Create a new ClassifierTemplateParameter" | click
with [get-editor "model.di" | get-diagram -index 1 | get-edit-part -name Model] {
    mouse-move 306 563 -height 633 -width 925
    mouse-hover 306 563 -height 633 -width 925
    mouse-move 328 611 -height 633 -width 925
    mouse-hover 328 611 -height 633 -width 925
    mouse-move 326 599 -height 633 -width 925
    mouse-hover 326 599 -height 633 -width 925
    mouse-move 0 611 -height 633 -width 925
}
with [get-view "Model Explorer" | get-tree] {
    select " Model/ GenericScheduler/ownedTemplateSignature \\(1\\)/ <Template Signature>/ownedParameter \\(1\\)/ <Classifier Template Parameter>"
    get-item " Model/ GenericScheduler/ownedTemplateSignature \\(1\\)/ <Template Signature>/ownedParameter \\(1\\)/ <Classifier Template Parameter>" 
        | drag-start 8 9
}
with [get-editor "model.di" | get-diagram -index 1 | get-edit-part -name Model] {
    drag-enter 16 491 -detail 2 -operation 7
    drag-over 49 463 -operation 7
    with [get-edit-part -name EDFScheduler | get-edit-part -className PackagePackageableElementCompartmentEditPart] {
        get-figure "1/0" | drag-over 156 2 -operation 7
        get-figure 1 | drag-over 164 4 -operation 7
    }
    drag-over 239 266 -operation 7
    with [get-edit-part -name GenericScheduler | get-edit-part 
        -className PackagePackageableElementCompartmentEditPart] {
        get-figure 1 | drag-over 216 170 -operation 7
        get-figure "1/0" | drag-over 227 135 -operation 7
        with [get-edit-part -name SchedulingPolicy] {
            drag-over 65 99 -operation 7
            get-edit-part -className ClassNestedClassifierCompartmentEditPartCN | drag-over 75 1 -operation 7
            get-edit-part -className ClassOperationCompartmentEditPartCN | drag-over 89 3 -operation 7
        }
    }
    drag-over 318 112 -operation 7
    drag-over 321 107 -operation 7
    get-edit-part -name GenericScheduler | get-edit-part -className TemplateSignatureEditPart | get-edit-part 
        -className TemplateSignatureTemplateParameterCompartmentEditPart | get-figure "1/0/0" | drag-over 33 24 
        -detail 1 -operation 7
    drag-exit
    get-edit-part -name GenericScheduler | get-edit-part -className TemplateSignatureEditPart | get-edit-part 
        -className TemplateSignatureTemplateParameterCompartmentEditPart | get-figure "1/0/0" | drag-accept 33 24 
        -detail 1 -operation 7
}
get-view "Model Explorer" | get-tree | drag-set-data
get-editor "model.di" | get-diagram -index 1 | get-edit-part -name Model | get-edit-part -name GenericScheduler 
    | get-edit-part -className TemplateSignatureEditPart | get-edit-part 
    -className TemplateSignatureTemplateParameterCompartmentEditPart | get-figure "1/0/0" | drop 33 24 -detail 1 
    -operation 7
with [get-view "Model Explorer" | get-tree] {
    drag-set-data
    drag-set-data
    drag-set-data
    drag-end -detail 1
}
with [get-editor "model.di" | get-diagram -index 1 | get-edit-part -name Model] {
    mouse-move 395 452 -height 633 -width 925
    mouse-move 415 631 -height 633 -width 925
}

with [get-editor "model.di" | get-diagram -index 1 | get-edit-part -name Model] {
    mouse-move 391 93 -height 633 -width 925
    with [get-edit-part -name GenericScheduler | get-edit-part -className TemplateSignatureEditPart | get-edit-part 
        -text "<UNDEFINED>" | get-edit-part -text "<UNDEFINED>"] {
        mouse-move 38 11 button1 -height 15 -width 86
        mouse-press 38 11 button1 -height 15 -width 86
        mouse-release 38 11 button1 524288 -height 15 -width 86
        mouse-hover 38 11 -height 15 -width 86
    }
    mouse-move 9 30 -height 633 -width 925
}

get-view Properties | get-button "Edit the reference value" -after [get-label "<Undefined>" 
    -after [get-label "Parametered element"]] | click
with [get-window "Parametered element"] {
    get-tree | select " Model/ GenericScheduler/ SchedulingPolicy"
    get-button OK | click
}
get-editor "model.di" | get-diagram -index 1 | get-edit-part -name Model | get-edit-part -name EDFScheduler 
    | get-edit-part -className PackagePackageableElementCompartmentEditPart | mouse-move 10 13 -height 124 -width 301
get-editor "model.di" | get-diagram -index 1 | get-edit-part -name Model | get-edit-part -name GenericScheduler 
    | get-edit-part -className TemplateSignatureEditPart | get-edit-part -text "SchedulingPolicy: Class" 
    | get-figure "1/0/0" | get-property text | equals "SchedulingPolicy: Class" | verify-true
------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac--
